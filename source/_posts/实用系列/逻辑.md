---
title: 逻辑
date: 2025-6-8 09:00:00
categories: 实用系列
permalink: logic.html
---

## 推断的有效性和可靠性

推断是前提的集合加上结论。前提最少有一句，结论只有一句。

一个推断是有效的 <=> 不存在当所有前提为真时，结论为假的情况

1. 小明是人（P）
2. 小明不是人（非 P）
3. 因此，张三会飞（Q）

评估有效性需要把所有真值指派的情况列出来：

| P   | 非 P | Q    |
| --- | ---- | ---- |
| 0   | 1    | 未知 |
| 1   | 0    | 未知 |

列出来后发现：不存在当所有前提为真时，结论为假的情况。所以这个推断是有效的。从矛盾的前提可以推出任何结论。

一个推断是可靠的 <=> 论证是有效的 且 它的所有前提实际为真

假言三段论是类似于这样的推断：

1. A -> B
2. B -> C
3. 因此，A -> C

| A   | B   | C   | A→B（前提 1） | B→C（前提 2） | A→C（结论） |
| --- | --- | --- | ------------- | ------------- | ----------- |
| 0   | 0   | 0   | 1             | 1             | 1           |
| 0   | 0   | 1   | 1             | 1             | 1           |
| 0   | 1   | 0   | 1             | 0             | 1           |
| 0   | 1   | 1   | 1             | 1             | 1           |
| 1   | 0   | 0   | 0             | 1             | 0           |
| 1   | 0   | 1   | 0             | 1             | 1           |
| 1   | 1   | 0   | 1             | 0             | 0           |
| 1   | 1   | 1   | 1             | 1             | 1           |

把真值表画出来之后，可以看到：当前提均为真时，结论一定为真。说明这个推断是有效的

可靠性是针对一个具体论证实例的。当 ABC 取具体的值的时候（一次真值指派），如果还能保证两个前提都是为真的，那么推断是可靠的

对于这个推断来说：

1. A -> B（如果小明是湖北省出生的人，那么小明会飞）
2. B -> C（如果小明会飞，那么小明的身份证以 42 开头）
3. 因此，A -> C（因此，如果小明是湖北省出生的人，那么小明的身份证以 42 开头）

现在我们知道的信息是：小明确实是湖北省出生的人，身份证以 42 开头，也不会飞。那么 A=1，B=0，C=1，对应真值表的倒数第三行

首先它是有效的。其次它是不可靠的（即使它的结论为真），因为第一个前提是假的，它没有保证所有前提都为真

对于这个推断来说：

1. A -> B（如果小明是湖南人，那么小明是网络小说里的人物）
2. B -> C（如果小明是网络小说里的人物，那么小明会飞）
3. 因此，A -> C（因此，如果小明是湖南人，那么小明会飞）

现在我们知道的信息是：小明确实是网络小说里的湖南人，会飞。那么 A=1，B=1，C=1

首先它是有效的。其次它是可靠的，因为他的所有前提都是真的（即使第一个前提看起来有点问题），结论也是真的。

第一个前提和结论都违背了常识，但在逻辑中，这并不影响推断的有效性或可靠性。逻辑只关心真值，而这里 A→B 的真值由小明的具体属性保证（A 真且 B 真）。A→B 的“问题”在于它的语义内容（内容上不现实），而非逻辑真值。逻辑只处理“如果 A 则 B”的真假，不处理“为什么 A 会导致 B”。

## 命题逻辑

在命题逻辑中，命题用大写字母表示，它的真值只能取 0 或 1，所以也叫二值逻辑。具有确定真值的命题叫命题常元，真值不确定的命题叫命题变元。

运算符（命题连接词）优先级：非、且、或、蕴含、等值

形如 A -> B 的，叫条件命题，或者假言命题，它陈述的是某一事物情况是另一件事物情况的条件。

- 充分条件：如果 A 那么 B。A -> B 为蕴含。当蕴含的前件为假时，复合命题为真；当蕴含的前件为真时，复合命题为后件的真值；
- 充要条件：A <-> B，当 A 和 B 真值一致时，复合命题为真，否则为假

命题公式的递归定义：

1. 0、1 是命题公式
2. 命题变元是命题公式
3. 如果 A 是命题公式，那么 !A 是命题公式
4. 如果 A 和 B 是命题公式，那么 (A and B)、(A or B)、(A -> B)、(A <-> B)是命题公式
5. 只有有限次利用上述四点所产生的符号串才是命题公式

真值表是对于一个命题公式，把它的命题变元的真值指派的所有情况列出来，再计算结果。

- 重言式 <=> 1（对它的所有真值指派都为 1）如 A or 1
- 矛盾式 <=> 0（对它的所有真值指派都为 0）如 A and !A

如果对命题公式 F 的真值指派中，存在一个是取值为真的，那么 F 称为可满足的公式。重言式 => 可满足的公式

命题公式的代换实例是指，对一个命题公式，把它的一个命题变元 A 用另一个公式 B 代换，且它里面的所有 A 都被 B 代换了。

代入规则：重言式的代换实例仍然是重言式。因为重言式 <=> 1，不受被代换的命题变元取值影响。

子公式是指一个命题公式的一部分（连续的几个符号），且它仍然是公式。

置换规则：对一个命题公式里 A 的子公式 B，如果用与该子公式等值的公式 C 去替代子公式 B，那么替换后得到的 D 与 A 等值。

对偶：对一个命题公式，把它的所有且或变号，01 互变，得到的新公式是原公式的对偶。

### 命题公式的等值关系和蕴含关系

等值关系可以双向推，蕴含关系只能从左向右推。

- 等值演算 (<=>) 像是告诉你两个数学表达式（如 (a+b)² 和 a² + 2ab + b²）在数值上总是相等的，你可以互相替换。
- 蕴含关系 (=>) 像是告诉你一条推理规则（如 “如果 a > b 且 b > c，那么 a > c”）。它定义了从已知事实推导出新事实的合法途径。反过来不一定成立

<-> 是命题连接词，经 <-> 连接后的是命题公式。而 <=> 是命题公式之间的关系符号，表示两个命题公式之间的等值关系。

A <=> B 充要条件：

- A <-> B 是永真式（<=>的定义）
- 在任一组真值指派后，这两个公式的值一致（<->的定义）

---

=> 表示命题公式间的蕴含关系。

A => B 充要条件：

- A -> B 是永真式（=>的定义）
- 在对他们进行的所有真值指派里，当 A 为真时，B 一定为真
  - 必要性：如果 A -> B 是重言式，意味 A 和 B 的取值只可能在第 1、2、4 行里。所以说，在对他们进行的所有真值指派里，当 A 为真时，B 一定为真
  - 充分性：如果对 AB 进行的所有真值指派里，当 A 为真时，B 一定为真，意味 A 和 B 的取值只可能在第 4 行里。所以 A -> B 是永真式

| A   | B   | A->B |
| --- | --- | ---- |
| 0   | 0   | 1    |
| 0   | 1   | 1    |
| 1   | 0   | 0    |
| 1   | 1   | 1    |

前件也可以是一个集合。若 {A,B} => C，说明：在对他们进行的所有真值指派里，当 {A,B} 中公式同时为真时，C 一定为真。对于一个推断，前提为 A 和 B，结论为 C。如果这个推断是有效的，那么 {A,B} => C

如何推证 A => B：有两种方法：

1. 先假定 A 为真，再检查 B 的真值。如果 B 一定为真，蕴含关系成立；否则不成立。
2. 先假定 B 为假，再检查 A 的真值。如果 A 不可能为真，蕴含关系成立；否则不成立。

对 P and Q => P 来说：

- 假定前件 P and Q 为真，那么 P 一定为真。所以蕴含关系成立
- 假定后件 P 为假，那么前件为假（不可能为真），所以蕴含关系成立

对 P or Q => P 来说：

- 假定前件 P or Q 为真，那么后件的真值是不确定的。所以蕴含关系不成立
- 假定后件 P 为假，那么前件的真值是不确定的（可能为真），所以蕴含关系不成立

### 命题公式的等值演算

- 对于两个命题，单独的或和且间有交换律，三个命题间有结合律。和乘法和加法类似
  - （A 且 B）或（A 且 C）<=> A 且（B 或 C）
- 两命题且或的运算
  - 且 1 或 0 不变：同一律
  - 且 0 或 1 短路：零一律
  - 且自身或自身不变：等幂律
  - 矛且 0，矛或 1：互否律
- 吸收律：三个命题以一且一或连接，后两个有括号，且前两个命题相同，那么它的值为第一个命题的值
- 德摩根律：多个命题以且/或连接，括号外有一个非，那么可以把非分配到括号里的各个命题上，并把且或变号
- P 蕴含 Q <=> 非 P 或 Q <=> (P 蕴含 Q) 且 (Q 蕴含 P)
- P 等值 Q：析取范式，非号聚集；合取范式，非号分散
- 对命题公式 A 最外面加非后，与 A 的对偶公式等值

<img src="/blog/images/p==q.webp">

### 范式

析 V 合 ^

- 质合取式：由命题变元或其否定以连且的方式连接到一起。P and Q and !R
- 质析取式：由命题变元或其否定以连或的方式连接到一起。P or Q or !R
- 析取范式：质合取式的析取：括号外是 V。（且且）或（且且）
- 合取范式：括号外是合取 ^

任一公式都可变换成与它等值的析取范式或者合取范式，可能不止一种。变换的过程：

1. 把蕴含改写成：非 P 或 Q，等值改写成：析取范式非号聚集；合取范式非号分散
2. 用德摩根律把括号外的否定号向内深入到命题变元身上
3. 用双重否定律消去非非
4. 用分配律把：
   - P 且（Q 或 R）变成（P 且 Q）或（P 且 R）的析取范式
   - P 或（Q 且 R）变成（P 或 Q）且（P 或 R）的合取范式

- 由一些命题变元产生的最小项，是类似于连且的质合取式，但是没有重复的变元。如对于命题变元 A 和 B， A 且 非 A 且 B 是一个质和取式，但不是最小项。最小项类似 A 且 非 B
- 由一些命题变元产生的最大项，是类似于连或的质析取式，但是没有重复的变元。

## 传统逻辑

### 直言命题

形如 所有 A 都是 B 的叫直言命题，是传统逻辑的范畴。直言命题陈述的是两个类之间的包含关系。每一个命题的结构是：[量项][主项][连项][谓项]。量项包括全称量词、特称量词和单称量词；连项包括肯定和否定。

每一个直言命题有四种语气：AEIO 分别代表全肯，全否，特肯，特否。

- A 型：全称肯定（所有 S 是 P），例如“所有人都是会死的”。
- E 型：全称否定（没有 S 是 P），例如“没有人是完美的”。
- I 型：特称肯定（有些 S 是 P），例如“有些鸟会飞”。
- O 型：特称否定（有些 S 不是 P），例如“有些苹果不是红色的”。

### 直言命题的换质和换位

对直言命题来说，换质是指通过改变命题的“质”（肯定或否定），并对谓词取补集，得到一个新命题。换质后，新命题与原命题逻辑等价。操作步骤：

- A 型（所有 S 是 P） → 换质为 E 型（没有 S 是非 P）。
- E 型（没有 S 是 P） → 换质为 A 型（所有 S 是非 P）。
- I 型（有些 S 是 P） → 换质为 O 型（有些 S 不是非 P）。
- O 型（有些 S 不是 P） → 换质为 I 型（有些 S 是非 P）。

特点：换质是有效且等值的操作，适用于所有直言命题类型（A、E、I、O）。

换位：通过交换主词（Subject）和谓词（Predicate）的位置，得到一个新命题。换位后，新命题不一定与原命题等价。规则：

- E 型（没有 S 是 P） → 换位为 E 型（没有 P 是 S）。例如：“没有人是完美的” → “没有完美的人”（等价）。
- I 型（有些 S 是 P） → 换位为 I 型（有些 P 是 S）。例如：“有些鸟会飞” → “有些会飞的是鸟”（等价）。
- A 型（所有 S 是 P） → 换位无效。标准换位不能直接应用，因为“所有 S 是 P”换位为“所有 P 是 S”不一定成立。例如：“所有人都是会死的”换位为“所有会死的都是人”是假的（动物也会死）。
- O 型（有些 S 不是 P） → 换位无效。不能直接换位。例如：“有些苹果不是红色的”换位为“有些红色的不是苹果”可能真也可能假，不等价。

特点：换位只对 E 型和 I 型 有效（新命题与原命题等价），对 A 型和 O 型无效（可能产生不等价命题）。

### 直言三段论

直言三段论由三个直言命题组成，AAA-1 的直言三段论是这样的：

1. 所有 M 是 P
2. 所有 S 是 M
3. 因此，所有 S 是 P

在结论中的主词记为 S 是小项，谓词记为 P 是大项。包括 P 的前提是大前提，包括 S 的前提是小前提。没有出现在结论里，而在两个前提里重复出现的是中项 M。

|                        | 肯定：谓项都不周延            | 否定：谓项都周延                  |
| ---------------------- | ----------------------------- | --------------------------------- |
| **全称：主项都周延**   | A：所有主+是谓-，主包含在谓里 | E：没有主+是谓+，主谓互斥         |
| **特称：主项都不周延** | I：有些主-是谓-，主谓有交     | O：有些主-不是谓+，主不包含在谓里 |

<img src="/blog/images/AEIO.webp">

周延指的是，一个词项涵盖了他的所有外延。+记为周延，-记为不周延。

> 小明是只有一只脚的；小明是人；因此，人是只有一只脚的

在它的结论中人是周延的，指的是所有人。而在小前提中的人是没有周延的，只包括小明一个人。

当我们说“A 是 B”的时候，往往意味着 A 在 B 的范围内，A 是 B 的一部分；说“A 不是 B”的时候，往往意味着 A 一点都不在 B 里面。

所以说肯定判断的谓项都不周延，否定判断的谓项都周延。

- 肯定判断的谓项都不周延：所有武汉人+都是科学家-（全肯 A），或有些武汉人-是科学家-（特肯 I），这里的科学家没有周延到所有科学家
- 否定判断的谓项都周延：所有武汉人+都不是科学家+（全否 E），或有些武汉人-不是科学家+（特否 O），这里的科学家周延到了所有科学家
- 特称判断的主项都不周延：因为是以有些……开头的
- 全称判断的主项都周延：因为是以所有/没有……开头的。单称命题主词包括的对象只有一个，所以也周延

格指的是，在大前提和小前提中，大项、小项和中项的排列顺序。结论的顺序一定是 S-P，小项-大项

- 第 1 格：中项一左一右，是分开的。大前提 M-P，小前提 S-M
- 第 2 格：中项都在右边。大前提 P-M，小前提 S-M
- 第 3 格：中项都在左边。大前提 M-P，小前提 M-S
- 第 4 格：中项一右一左，是聚集的。大前提 P-M，小前提 M-S

> 小明只有一只脚；小明是人；因此，人只有一只脚

它的中项都在左边，所以是第三格。全肯 A，AAA-3 属于无效推理

一个 EIO-2 的有效的（但不可靠的）三段论是这样的：

1. 没有安徽人是科学家（全否 E）
2. 有些中国人是科学家（特肯 I）
3. 因此，有些中国人不是安徽人（特否 O）

如果把科学家替换成湖北人，就是有效且可靠的。

如何判断三段论有效性：需要满足下列的所有规则。[或者画韦恩图，或者查表](https://zh.wikipedia.org/wiki/%E7%9B%B4%E8%A8%80%E4%B8%89%E6%AE%B5%E8%AE%BA#%E6%9C%89%E6%95%88%E4%B8%89%E6%AE%B5%E8%AB%96%E5%BC%8F)

1. 结论中否定命题的数目必须和前提中否定命题的数目相等
2. 结论中特称命题的数目必须和前提中特称命题的数目相等
3. 结论中周延的词必须在前提中周延
4. 中项必须周延至少一次

## 形式谬误

形式谬误的推理过程是无效的。

有效的选言三段论是这样的：也叫析取三段论，或拒取式。

1. P 或 Q
2. 非 P
3. 所以 Q

它对应肯定选言的谬误：

1. P 或 Q
2. P
3. 所以 Q 为假

### 命题逻辑谬误

手电筒发光有两个条件：电池有电，且开关打开了。

- 肯定后件：如果手电筒发光了，那么它是有电的；手电筒是有电的；因此手电筒正在发光
- 否定前件：如果手电筒发光了，那么它是有电的；手电筒没有发光；因此手电筒是没电的

发现肯定后件、否定前件、肯定选言、否定联言的方式都是：通过真值表的复合命题列，加上简单命题其中的一列，找另一个简单命题列在真值表里有两种的情况，强制把它推向其中一种。如：

| P：手电筒正在发光 | Q：它的电池有电 | 蕴含：若手电筒正在发光，则它的电池有电 |
| ----------------- | --------------- | -------------------------------------- |
| 0                 | 0               | 1                                      |
| 0                 | 1               | 1                                      |
| 1                 | 0               | 0                                      |
| 1                 | 1               | 1                                      |

- “若 P 则 Q”为真时
  - P 为假时，Q 有两种情况（否定前件谬误：若 P 则 Q 为真，P 为假，推出 Q 为假）
  - P 为真时，Q 只有一种情况（这是有效的，肯定前件的推理。手电筒正在发光，说明它的电池一定有电）
  - Q 为假时，P 只有一种情况（这是有效的，否定后件的推理。手电筒的电池没电，说明它一定不会发光）
  - Q 为真时，P 有两种情况（肯定后件谬误：若 P 则 Q，Q，因此 P）
